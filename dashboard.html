<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4CAF50">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Medicine Order</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header no-print">
        <h1>Order Medicines</h1>
        <button class="logout-btn" id="logoutButton">Logout</button>
    </div>
    
    <div class="container">
        <div id="welcomeMessage" style="text-align: center;"></div>
        <div class="print-header print-only" style="display: none;">
            <h2>Medicine Order Summary</h2>
            <p id="printVendorName"></p>
            <p id="printDate"></p>
        </div>

        <div class="vendor-selection">
            <label for="vendorSelect">Select Vendor</label>
            <select id="vendorSelect">
                <option value="">Choose a vendor</option>
            </select>
            <p id="vendorError" class="error-message" style="display: none;">Failed to load vendors</p>
        </div>

        <div class="search-container" id="searchContainer" style="display: none;">
            <input type="text" id="medicineSearch" placeholder="Search medicines...">
        </div>

        <div id="medicineListSection">
            <h2>Available Medicines</h2>
            <table>
                <thead>
                    <tr>
                        <th>Medicine</th>
                        <th>Quantity</th>
                        <th>Add</th>
                    </tr>
                </thead>
                <tbody id="medicineTable"></tbody>
            </table>
            <p id="medicineError" class="error-message" style="display: none;">No medicines found</p>
        </div>

        <div id="selectedMedicinesSection">
            <h2>Selected Medicines</h2>
            <table>
                <thead>
                    <tr>
                        <th>Medicine</th>
                        <th>Quantity</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody id="selectedMedicinesTable"></tbody>
            </table>
        </div>
    </div>

    <div class="float-button no-print" id="scrollToSelected">â†“</div>

    <div class="action-buttons no-print">
        <button onclick="previewOrder()" id="previewBtn" disabled>Preview</button>
        <button onclick="printOrder()" id="printBtn" disabled>Print</button>
        <button onclick="sendWhatsApp()" id="whatsappBtn" disabled>WhatsApp</button>
        <button onclick="generatePDF()" id="pdfBtn" disabled>PDF</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.19/jspdf.plugin.autotable.min.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>